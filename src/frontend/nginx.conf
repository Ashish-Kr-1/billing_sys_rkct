server {
    listen 80;
    server_name localhost;

    root /usr/share/nginx/html;
    index index.html;

    # Backend API Proxy (Internal Docker Network)
    # Backend API Routes
    location /parties { proxy_pass http://backend:5000; }
    location /itemNames { proxy_pass http://backend:5000; }
    location /ledger { proxy_pass http://backend:5000; }
    location /transactions { proxy_pass http://backend:5000; }
    location /items { proxy_pass http://backend:5000; }
    location /health { proxy_pass http://backend:5000; }
    location /test-db { proxy_pass http://backend:5000; }
    location /number { proxy_pass http://backend:5000; }
    
    # Prefix matches for routes with sub-paths or args
    location /createParty { proxy_pass http://backend:5000; }
    location /createItem { proxy_pass http://backend:5000; }
    location /createInvoice { proxy_pass http://backend:5000; }
    location /item_id { proxy_pass http://backend:5000; }

    location / {
        try_files $uri $uri/ /index.html;
    }
}
